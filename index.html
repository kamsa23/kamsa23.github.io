<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Your Location</title>
</head>
<body>
    <h1>Your Location Details:</h1>

    <h2>üåê IP-Based Location</h2>
    <p><strong>IP Address:</strong> <span id="ip">Detecting...</span></p>
    <p><strong>Estimated Address:</strong> <span id="ip-address">Detecting...</span></p>
    <p><strong>City:</strong> <span id="ip-city">Detecting...</span></p>
    <p><strong>Region:</strong> <span id="ip-region">Detecting...</span></p>
    <p><strong>Country:</strong> <span id="ip-country">Detecting...</span></p>
    <p><strong>Timezone:</strong> <span id="ip-timezone">Detecting...</span></p>

    <script>
        function getIPLocation() {
            fetch("https://api.ipify.org?format=json")
                .then(response => response.json())
                .then(data => {
                    document.getElementById("ip").innerHTML = data.ip;
                    
                    // Get location details from Geoapify
                    fetch(`https://api.geoapify.com/v1/ipinfo?apiKey=64ddd6595a9b4471b7bd705a9c2ce8f5`)
                        .then(response => response.json())
                        .then(data => {
                            document.getElementById("ip-address").innerHTML = data.location.address || "Not available";
                            document.getElementById("ip-city").innerHTML = data.city.name || "Not available";
                            document.getElementById("ip-region").innerHTML = data.state.name || "Not available";
                            document.getElementById("ip-country").innerHTML = data.country.name || "Not available";
                            document.getElementById("ip-timezone").innerHTML = data.timezone.name || "Not available";
                        })
                        .catch(error => {
                            document.getElementById("ip-address").innerHTML = "Error fetching IP location details.";
                        });
                })
                .catch(error => {
                    document.getElementById("ip").innerHTML = "Error fetching IP.";
                });
        }

        getIPLocation();
    </script>
</body>
</html>
